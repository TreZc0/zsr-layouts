<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">

<dom-module id="zsr-schedule-runinfo">
	<template>
		<style>
			:host {
				@apply --layout-vertical;
				color: var(--zsr-schedule-runinfo-color, black);
			}

			#label {
				font-weight: 500;
				font-size: 18px;
				width: 100%;
				text-align: center;
			}

			.padded {
				padding: 4px;
			}

			section {
				@apply --layout-vertical;
			}

			.modified {
				background-color: #CEE0C9;
			}

			.modified label:after {
				content: '*';
			}

			.divider {
				border-bottom: 1px dashed var(--zsr-schedule-runinfo-color, black);
				margin-top: 7px;
				margin-bottom: 7px;
			}

			#name .value {
				font-weight: 500;
				font-size: 18px;
				height: 2em;
				word-wrap: break-word;
				white-space: normal;

				/* limit max lines to 2 */
				display: -webkit-box;
				-webkit-line-clamp: 2;
				-webkit-box-orient: vertical;
			}
			#shortName .value {
				font-size: 14px;
				font-weight: 500;
				height: 1em;
				white-space: nowrap;
				text-overflow: ellipsis;
				overflow: hidden;
			}
			#runners {
				@apply --layout-horizontal;
				@apply --layout-wrap;
			}

			.runner {
				@apply --layout-vertical;
				width: calc(50% - 4px);
				padding-right: 8px;
				box-sizing: border-box;
			}

			.runner:nth-child(odd) {
				margin-right: 4px;
			}

			.runner:nth-child(even) {
				margin-left: 4px;
			}

			#misc {
				@apply --layout-horizontal;
				@apply --layout-justified;
				flex-wrap: wrap;
			}

			#misc > div {
				@apply --layout-vertical;
				width: 50%;
				box-sizing: border-box;
			}

			#console {
				overflow: hidden;
				white-space: nowrap;
			}

			#notes .value {
				white-space: normal;
				height: 3em;
				overflow-y: auto;
				word-wrap: break-word;
			}
			#timernotes .value {
				white-space: normal;
				height: 3em;
				overflow-y: auto;
				word-wrap: break-word;
			}
			label {
				font-size: 13px;
			}

			.value {
				font-size: 16px;
				font-weight: 500;
				white-space: nowrap;
				text-overflow: ellipsis;
				overflow: hidden;
				display: inline-block;
			}
			.value2 {
				font-size: 12px;
				font-weight: 500;
				white-space: nowrap;
				text-overflow: ellipsis;
				overflow: hidden;
				display: inline-block;
			}
			.value3 {
				font-size: 10px;
				font-weight: 500;
				white-space: nowrap;
				text-overflow: ellipsis;
				overflow: hidden;
				display: inline-block;
			}
		</style>

		<div id="label">[[label]] (#[[order]])</div>

		<section id="name" class$="padded [[calcModified(originalValues.name)]]">
			<label>Name</label>
			<span class="value" title="[[calcName(name)]]">[[calcName(name)]]</span>
		<div class="divider"></div>
		<div id="shortName" class$="padded [[calcModified(originalValues.shortName)]]">
				<label>Tag</label>
				<span class="value">[[shortName]]&#8203;</span>
			</div>
		</section>

		<div class="divider"></div>

		<section id="runners">
			<div class$="padded runner [[calcModified(originalValues.runners.0)]]" style="margin-bottom: 12px;">
				<label>Runner</label>
				<span class="value" title="[[runners.0.name]]">[[runners.0.name]]&#8203;</span>
			</div>
			<div class$="padded runner [[calcModified(originalValues.runners.1)]]" style="margin-bottom: 12px;">
				<label>Runner 2</label>
				<span class="value" title="[[runners.1.name]]">[[runners.1.name]]&#8203;</span>
			</div>
			<div class$="padded runner [[calcModified(originalValues.runners.2)]]">
				<label>Runner 3</label>
				<span class="value" title="[[runners.2.name]]">[[runners.2.name]]&#8203;</span>
			</div>
			<div class$="padded runner [[calcModified(originalValues.runners.3)]]">
				<label>Runner 4</label>
				<span class="value" title="[[runners.3.name]]">[[runners.3.name]]&#8203;</span>
			</div>
		</section>

		<div class="divider"></div>

		<section class$="padded [[calcModified(originalValues.category)]]">
			<label>Category</label>
			<span class="value" title="[[category]]">[[category]]&#8203;</span>
		</section>

		<div class="divider"></div>

		<section id="misc">
			<div class$="padded [[calcModified(originalValues.estimate)]]">
				<label>Estimate</label>
				<span class="value">[[estimate]]&#8203;</span>
			</div>
			<div id="console" class$="padded [[calcModified(originalValues.console)]]">
				<label>Console</label>
				<span title="[[console]]" class="value">[[console]]&#8203;</span>
			</div>
			<div class$="padded [[calcModified(originalValues.releaseYear)]]">
				<label>Release Year</label>
				<span class="value">[[releaseYear]]&#8203;</span>
			</div>
			<div class$="padded [[calcModified(originalValues.discord)]]">
				<label>Discord</label>
				<span class="value2">[[discord]]&#8203;</span>
			</div>
			<div class$="padded [[calcModified(originalValues.srcom)]]">
				<label>Speedrun.com</label>
				<span class="value">[[srcom]]&#8203;</span>
			</div>
			<div class$="padded [[calcModified(originalValues.racetime)]]">
				<label>Date</label>
				<span class="value3">[[racetime]]&#8203;</span>
			</div>
		</section>

		<div class="divider"></div>

		<section id="notes" class="padded">
			<label>Tech Notes</label>
			<div class="value"></div>
		</section>
		<section id="timernotes" class="padded">
			<label>Timer Notes</label>
			<div class="value"></div>
		</section>
	</template>

	<script src="zsr-schedule-runinfo.js"></script>
</dom-module>
